# 🛡️ AI-Assisted DevOps: VM Health Check & Automation

This project demonstrates a practical **AI-assisted DevOps use case** that checks the **health of a Virtual Machine** (VM) by monitoring critical metrics like CPU, Memory, and Disk usage. It includes:

- ✅ A Bash script with CLI argument support
- 🐳 Dockerization of the script
- ⏱️ Cron job for automated periodic health checks
- ☁️ Deployed and tested on an **AWS EC2 instance** (Free Tier)

---

## 📌 Project Objective

 Build a self-contained, automated, and reproducible solution for monitoring the health status of cloud-based virtual machines using Linux, Docker, and cron.

---

## 🧰 Technologies Used

- Bash Scripting
- Docker
- Cron
- AWS EC2 (Ubuntu)
- Git & GitHub

---

## 🔍 Features

- Checks CPU, Memory, and Disk utilization
- Classifies VM as `healthy` or `not healthy` based on a utilization threshold (default 60%)
- CLI argument `explain` for detailed status output
- Dockerized for portability and reproducibility
- Cron job automates health checks every 5 minutes with logging

---

## 🚀 Project Structure
vm-health-check/

├── Dockerfile

├── vm_health_check.sh

├── health_log.txt # Generated by cron job

└── README.md


---

## 📥 Setup & Run Instructions

### 1️⃣ Clone the repository

```bash
git clone https://github.com/your-username/vm-health-check.git
cd vm-health-check
chmod +x vm_health_check.sh

# Basic run
./vm_health_check.sh

# Detailed output
./vm_health_check.sh explain
```

### 2️⃣ Run the Script Locally

```bash
chmod +x vm_health_check.sh

# Basic run
./vm_health_check.sh

# Detailed output
./vm_health_check.sh explain

```

### 3️⃣ Dockerize the Script
🐳 Build the Docker image


```bash
docker build -t vm-health-check .
```

▶️ Run the container
```bash
docker run --rm vm-health-check
docker run --rm vm-health-check explain
```

### 4️⃣ Deploy on AWS EC2 (Ubuntu Free Tier)
#### Create EC2 Instance (Ubuntu)
1. Launch an EC2 instance using Ubuntu 22.04 AMI

2. SSH into the instance:
```bash
ssh -i your-key.pem ubuntu@<EC2-PUBLIC-IP>
```
#### Install Docker on EC2
```bash
sudo apt update
sudo apt install docker.io -y
sudo systemctl start docker
sudo systemctl enable docker
sudo usermod -aG docker $USER

```
Log out and back in or run newgrp docker.

### Set Up Cron Job (Automation)
1. Open crontab:
```bash
crontab -e
```
2. Add this line to run the script every 5 minutes:
```bash
*/5 * * * * /home/ubuntu/vm_health_check/vm_health_check.sh explain >> /home/ubuntu/vm_health_check/health_log.txt 2>&1
```
3. Enable cron service:
```bash
sudo systemctl start cron
```

### 📈 Future Enhancements
1. Email or Slack alert integration when VM is not healthy
2. GUI dashboard to view logs and health stats
3. Export metrics to Prometheus/Grafana stack

### 🤝 Contributing
Pull requests are welcome! Feel free to fork the repo and submit a PR with improvements!

Made with ❤️ by Rucha Daware
